{"version":3,"file":"static/js/842.96c71e87.chunk.js","mappings":"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","sources":["api/api.js","components/AddToMyListCard/AddToMyListCard.jsx","components/ModalWindow/ModalWindow.jsx","components/Pagination/Pagination.jsx","components/PokemonCard/PokemonCard.jsx","components/PokemonList/PokemonList.jsx","pages/PokemonListPage.jsx"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst apiUrl = 'http://localhost:3000/api';\r\n\r\n// const apiUrl = \"https://white-bat-toga.cyclic.app/api\"\r\n\r\nexport async function getPokemons() {\r\n  try {\r\n    const response = await axios.get(apiUrl + \"/pokemons\");\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport async function getUserPokemons() {\r\n    try {\r\n      const response = await axios.get(apiUrl + \"/userPokemons\");\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n\r\n  export async function addUserPokemon(body) {\r\n    console.log(\"body\", body);\r\n    // const {userId, pokemonId, addedAt, evolvedAt} = body;\r\n    const url = apiUrl + '/userPokemons';\r\n    // const body = {\r\n    //   userId: userId,\r\n    //   pokemonId: pokemonId,\r\n    //   // addedAt: addedAt,\r\n    //   // evolvedAt: evolvedAt\r\n    // };\r\n\r\n\r\n    await axios.post(url, {\r\n      userId: body.userId,\r\n    pokemonId: body.pokemonId,\r\n    });\r\n\r\n\r\n  }\r\n","import \"./AddToMyListCard.scss\";\r\n\r\nexport function AddToMyListCard({ currentPokemon, onAddPokemon }) {\r\n    const {name, imageUrl, type, level, abilities} = currentPokemon;\r\n\r\n    return(\r\n        <div className=\"add-pokemon\" >\r\n            <img src={imageUrl} alt={name} className=\"add-pokemon-img\"/>\r\n            <ul className=\"add-pokemon-details\">\r\n                <li className=\"add-pokemon-name\">\r\n                    { name }\r\n                </li>\r\n                <li className=\"add-pokemon-type\">\r\n                    <span className=\"add-pokemon-details__title\">Type:</span>  {type}\r\n                </li>\r\n                <li className=\"add-pokemon-level\">\r\n                    <span className=\"add-pokemon-details__title\">Level:</span>  {level}\r\n                </li>\r\n                <li className=\"add-pokemon-abilities\">\r\n                    <span className=\"add-pokemon-details__title\">Abilities:</span>  \r\n                    {abilities.join(\", \")}\r\n                </li>\r\n                <li>\r\n                    <button className=\"add-pokemon-btn\" onClick={onAddPokemon}>\r\n                        Add to My list\r\n                    </button>\r\n                </li>\r\n            </ul>\r\n    </div>\r\n\r\n    )\r\n\r\n}","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport Cross from \"./cross.png\"\r\nimport \"./ModalWindow.scss\"\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport function ModalWindow({onClose, children}) {\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown)}\r\n        }, []) \r\n\r\n    const handleKeyDown = e => {\r\n        if (e.code === 'Escape') { onClose() }\r\n    };\r\n\r\n    const handleOverlayClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n        onClose();\r\n        }\r\n    };\r\n\r\n        return createPortal(\r\n        <div className=\"overlay\" onClick={handleOverlayClick} >\r\n            <div className=\"modal\">\r\n                <button className='modal__close-btn' onClick={onClose}>\r\n                    <img src={Cross} alt=\"close\" width=\"12px\" height=\"12px\"/>\r\n                </button>\r\n                {children}\r\n            </div>\r\n        </div>,\r\n        modalRoot\r\n        );\r\n}\r\n\r\n","import \"./Pagination.scss\"\r\n\r\nexport function Pagination({pages, page, onChange}) {\r\n    return (\r\n        <div className=\"pagination\">\r\n            <button className=\"previos-btn\" onClick={onChange}>\r\n                Prev\r\n            </button>\r\n            <button className=\"next-btn\" onClick={onChange}>\r\n                Next\r\n            </button>\r\n        </div>\r\n    )\r\n}","import \"./PokemonCard.scss\"\r\n\r\nexport function PokemonCard({ pokemon, onClick }) {\r\n    const {name, imageUrl, type, level, _id} = pokemon;\r\n\r\n    const handleClick = () => {\r\n        onClick(_id);\r\n    }\r\n\r\n    return (\r\n        <li className=\"pokemon-card\" onClick={handleClick}>\r\n            <ul className=\"pokemon-details\">\r\n                <li className=\"pokemon-image-frame\">\r\n                    <img src={imageUrl} alt={name} className=\"pokemon-img\"/>\r\n                </li>\r\n                <li className=\"pokemon-name\">\r\n                    { name }\r\n                </li>\r\n                <li className=\"pokemon-type\">\r\n                    <span className=\"pokemon-details__title\">Type:</span>  {type}\r\n                </li>\r\n                <li className=\"pokemon-level\">\r\n                    <span className=\"pokemon-details__title\">Level:</span>  {level}\r\n                </li>\r\n            </ul>\r\n        </li>\r\n    )\r\n}","import \"./PokemonList.scss\"\r\nimport { PokemonCard } from \"components/PokemonCard/PokemonCard\"\r\n\r\nexport function PokemonList({ pokemons, onClick }) {\r\n    const handleClick = (id) => {\r\n        onClick(id);\r\n    }\r\n\r\n    return (\r\n        <ul className=\"pokemon-list\">\r\n            {pokemons.map( pokemon => \r\n                <PokemonCard pokemon={ pokemon } key={pokemon._id} onClick={handleClick}/>\r\n            )}\r\n        </ul>\r\n    )\r\n}","import { useState, useEffect } from \"react\";\r\nimport Web3 from 'web3';\r\n\r\nimport { PokemonList } from \"components/PokemonList/PokemonList\";\r\nimport { Pagination } from \"components/Pagination/Pagination\";\r\nimport { ModalWindow } from \"components/ModalWindow/ModalWindow\";\r\nimport { AddToMyListCard } from \"components/AddToMyListCard/AddToMyListCard\";\r\n\r\nimport { getPokemons, addUserPokemon } from \"api/api\";\r\n\r\nexport default function PokemonListPage() {\r\n\r\n      const [pokemons, setPokemons] = useState([])\r\n      const [isModalOpened, setModalOpened] = useState(false);\r\n      const [currentPokemon, setCurrenPokemon] = useState(pokemons[0]);\r\n      const [web3, setWeb3] = useState(null);\r\n\r\n      useEffect(() => {\r\n        async function fetchData() {\r\n          const data = await getPokemons();\r\n          setPokemons(data);\r\n        }\r\n        fetchData();\r\n      }, []);\r\n\r\n      function conectWithMetaWallet() {\r\n                // Check if Metamask is installed\r\n        if (typeof window.ethereum !== 'undefined') {\r\n          // Connect to Metamask provider\r\n          window.ethereum.enable().then(() => {\r\n            // Create a new instance of Web3 with Metamask provider\r\n            const web3 = new Web3(window.ethereum);\r\n            setWeb3(web3);\r\n          });\r\n\r\n        }\r\n      }\r\n\r\n      useEffect(() => {\r\n        async function handleConnectWallet() {\r\n          // Check if user is logged in to Metamask\r\n          if (web3 && web3.currentProvider && web3.currentProvider.selectedAddress) {\r\n            console.log('User is logged in with address:', web3.currentProvider.selectedAddress);\r\n            const reqBody = {\r\n              userId: web3.currentProvider.selectedAddress,\r\n              pokemonId: currentPokemon._id,\r\n              // addedAt: Date.now(),\r\n            }\r\n\r\n            addUserPokemon(reqBody);\r\n            // Perform actions with the user's Metamask account\r\n          } else {\r\n            console.log('User is not logged in to Metamask');\r\n          }\r\n        }\r\n        handleConnectWallet();\r\n      }, [web3]);\r\n\r\n      \r\n      const toggleModal = () => { setModalOpened(!isModalOpened) };\r\n\r\n      const getPokemonId = (id) => {\r\n        toggleModal();\r\n\r\n        const pokemon = pokemons.find(pokemon => pokemon._id === id)\r\n        setCurrenPokemon(pokemon);\r\n    }\r\n\r\n    return (\r\n        <div >\r\n            <PokemonList pokemons={pokemons} onClick={getPokemonId}/>\r\n            <Pagination/>\r\n\r\n            {isModalOpened && (\r\n                <ModalWindow onClose={toggleModal} >\r\n                    <AddToMyListCard \r\n                      currentPokemon={currentPokemon} \r\n                      onAddPokemon={conectWithMetaWallet}/>\r\n                </ModalWindow>\r\n            )}\r\n        </div>\r\n    )\r\n}"],"names":["apiUrl","getPokemons","axios","response","data","console","error","getUserPokemons","addUserPokemon","body","log","userId","pokemonId","AddToMyListCard","currentPokemon","onAddPokemon","name","imageUrl","type","level","abilities","className","src","alt","join","onClick","modalRoot","document","querySelector","ModalWindow","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","currentTarget","target","Cross","width","height","Pagination","pages","page","onChange","PokemonCard","pokemon","_id","PokemonList","pokemons","handleClick","id","map","PokemonListPage","useState","setPokemons","isModalOpened","setModalOpened","setCurrenPokemon","web3","setWeb3","fetchData","currentProvider","selectedAddress","reqBody","handleConnectWallet","toggleModal","find","ethereum","enable","then","Web3"],"sourceRoot":""}