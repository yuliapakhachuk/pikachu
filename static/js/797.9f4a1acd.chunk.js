"use strict";(self.webpackChunkpikachu=self.webpackChunkpikachu||[]).push([[797],{713:function(e,n,t){t.d(n,{LD:function(){return i},v9:function(){return u},zF:function(){return p}});var r=t(861),s=t(757),o=t.n(s),a=t(243),c="https://white-bat-toga.cyclic.app/api";function i(){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.get(c+"/pokemons");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.post(c+"/userPokemons",{userId:n});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("body",n),c+"/userPokemons/auth",e.next=4,a.Z.post("https://white-bat-toga.cyclic.app/api/userPokemons/auth",{userId:n.userId,pokemonId:n.pokemonId});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},489:function(e,n,t){t.d(n,{v:function(){return s}});var r=t(184);function s(e){var n=e.currentPokemon,t=e.onAddPokemon,s=n.name,o=n.imageUrl,a=n.type,c=n.level,i=n.abilities;return(0,r.jsxs)("div",{className:"add-pokemon",children:[(0,r.jsx)("img",{src:o,alt:s,className:"add-pokemon-img"}),(0,r.jsxs)("ul",{className:"add-pokemon-details",children:[(0,r.jsx)("li",{className:"add-pokemon-name",children:s}),(0,r.jsxs)("li",{className:"add-pokemon-type",children:[(0,r.jsx)("span",{className:"add-pokemon-details__title",children:"Type:"}),"  ",a]}),(0,r.jsxs)("li",{className:"add-pokemon-level",children:[(0,r.jsx)("span",{className:"add-pokemon-details__title",children:"Level:"}),"  ",c]}),(0,r.jsxs)("li",{className:"add-pokemon-abilities",children:[(0,r.jsx)("span",{className:"add-pokemon-details__title",children:"Abilities:"}),i.join(", ")]}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"add-pokemon-btn",onClick:t,children:"Add to My list"})})]})]})}},929:function(e,n,t){t.d(n,{D:function(){return i}});var r=t(791),s=t(164),o=t(331),a=t(184),c=document.querySelector("#modal-root");function i(e){var n=e.onClose,t=e.children;(0,r.useEffect)((function(){return window.addEventListener("keydown",i),function(){window.removeEventListener("keydown",i)}}),[]);var i=function(e){"Escape"===e.code&&n()};return(0,s.createPortal)((0,a.jsx)("div",{className:"overlay",onClick:function(e){e.currentTarget===e.target&&n()},children:(0,a.jsxs)("div",{className:"modal",children:[(0,a.jsx)("button",{className:"modal__close-btn",onClick:n,children:(0,a.jsx)("img",{src:o,alt:"close",width:"12px",height:"12px"})}),t]})}),c)}},390:function(e,n,t){t.d(n,{W:function(){return o}});var r=t(184);function s(e){var n=e.pokemon,t=e.onClick,s=n.name,o=n.imageUrl,a=n.type,c=n.level,i=n._id;return(0,r.jsx)("li",{className:"pokemon-card",onClick:function(){t(i)},children:(0,r.jsxs)("ul",{className:"pokemon-details",children:[(0,r.jsx)("li",{className:"pokemon-image-frame",children:(0,r.jsx)("img",{src:o,alt:s,className:"pokemon-img"})}),(0,r.jsx)("li",{className:"pokemon-name",children:s}),(0,r.jsxs)("li",{className:"pokemon-type",children:[(0,r.jsx)("span",{className:"pokemon-details__title",children:"Type:"}),"  ",a]}),(0,r.jsxs)("li",{className:"pokemon-level",children:[(0,r.jsx)("span",{className:"pokemon-details__title",children:"Level:"}),"  ",c]})]})})}function o(e){var n=e.pokemons,t=e.onClick,o=function(e){t(e)};return(0,r.jsx)("ul",{className:"pokemon-list",children:n.map((function(e){return(0,r.jsx)(s,{pokemon:e,onClick:o},e._id)}))})}},797:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(861),s=t(439),o=t(757),a=t.n(o),c=t(791),i=t(818),l=t.n(i),u=t(390),d=t(929),p=t(489),m=t(713),f=t(184);function h(){var e=(0,c.useState)(null),n=(0,s.Z)(e,2),t=n[0],o=n[1],i=(0,c.useState)([]),h=(0,s.Z)(i,2),k=h[0],A=h[1],v=(0,c.useState)(!1),x=(0,s.Z)(v,2),w=x[0],j=x[1],g=(0,c.useState)(null),N=(0,s.Z)(g,2),y=N[0],C=N[1],b=function(){j(!w)};(0,c.useEffect)((function(){"undefined"!==typeof window.ethereum&&window.ethereum.enable().then((function(){var e=new(l())(window.ethereum);o(e)}))}),[]),(0,c.useEffect)((function(){function e(){return e=(0,r.Z)(a().mark((function e(){var n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.currentProvider&&t.currentProvider.selectedAddress?(n=function(){var e=(0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.v9)(s.userId);case 2:n=e.sent,A(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),console.log("User is logged in with address:",t.currentProvider.selectedAddress),s={userId:t.currentProvider.selectedAddress},(0,m.zF)(s),n()):console.log("User is not logged in to Metamask");case 1:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);return(0,f.jsxs)("div",{children:[k?(0,f.jsx)(u.W,{pokemons:k,onClick:function(e){b();var n=k.find((function(n){return n._id===e}));C(n)}}):"No pokemons",w&&(0,f.jsx)(d.D,{onClose:b,children:(0,f.jsx)(p.v,{currentPokemon:y})})]})}},331:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACnSURBVHgBhdLNDcIwDAXg5yCG4NZVGIXJYBNGITcubICg+NFEch3nR2rV2P7axI28bnhAx3vF+XRBxmA8r1iOgjuf01dvK7YAEzPEWpr00S/pJI+wRaylkZo4aEIni17ZLjtCzIl9q8eMR4hx8UuyGGX/HjXQ4wIb9O8qgpFmBdFS7Z5KQdOwHYy6x3iv29JD9ndEWEYoaljFaYY4GPMnrJ7VLoowzQ/L86EhpCgZdwAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=797.9f4a1acd.chunk.js.map