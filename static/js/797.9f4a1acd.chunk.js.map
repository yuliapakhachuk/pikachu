{"version":3,"file":"static/js/797.9f4a1acd.chunk.js","mappings":"+NAIMA,EAAU,wCAET,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,6GAEoBC,EAAAA,EAAAA,IAAUF,EAAU,aAFxC,cAEGG,EAFH,yBAGIA,EAASC,MAHb,gCAKHC,QAAQC,MAAR,MALG,gFASA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA+BC,GAA/B,gGAEsBN,EAAAA,EAAAA,KAAWF,EAAU,gBAAiB,CAACQ,OAAQA,IAFrE,cAEKL,EAFL,yBAGMA,EAASC,MAHf,gCAKDC,QAAQC,MAAR,MALC,gFAUE,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAAiCC,GAAjC,wEACLL,QAAQM,IAAI,OAAQD,GACRV,EAAU,qBAFjB,SAICE,EAAAA,EAAAA,KAFMF,0DAEU,CACpBQ,OAAQE,EAAKF,OACbI,UAAWF,EAAKE,YANb,kE,mECvBF,SAASC,EAAT,GAA4D,IAAjCC,EAAgC,EAAhCA,eAAgBC,EAAgB,EAAhBA,aACvCC,EAA0CF,EAA1CE,KAAMC,EAAoCH,EAApCG,SAAUC,EAA0BJ,EAA1BI,KAAMC,EAAoBL,EAApBK,MAAOC,EAAaN,EAAbM,UAEpC,OACI,iBAAKC,UAAU,cAAf,WACI,gBAAKC,IAAKL,EAAUM,IAAKP,EAAMK,UAAU,qBACzC,gBAAIA,UAAU,sBAAd,WACI,eAAIA,UAAU,mBAAd,SACML,KAEN,gBAAIK,UAAU,mBAAd,WACI,iBAAMA,UAAU,6BAAhB,mBADJ,KACgEH,MAEhE,gBAAIG,UAAU,oBAAd,WACI,iBAAMA,UAAU,6BAAhB,oBADJ,KACiEF,MAEjE,gBAAIE,UAAU,wBAAd,WACI,iBAAMA,UAAU,6BAAhB,wBACCD,EAAUI,KAAK,UAEpB,yBACI,mBAAQH,UAAU,kBAAkBI,QAASV,EAA7C,mCASnB,C,8FC3BKW,EAAYC,SAASC,cAAc,eAElC,SAASC,EAAT,GAA2C,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,UAClCC,EAAAA,EAAAA,YAAU,WAEN,OADAC,OAAOC,iBAAiB,UAAWC,GAC5B,WACHF,OAAOG,oBAAoB,UAAWD,EAAe,CACxD,GAAE,IAEP,IAAMA,EAAgB,SAAAE,GACH,WAAXA,EAAEC,MAAqBR,GAC9B,EAQG,OAAOS,EAAAA,EAAAA,eACP,gBAAKlB,UAAU,UAAUI,QAPF,SAAAY,GACnBA,EAAEG,gBAAkBH,EAAEI,QAC1BX,GAEH,EAGG,UACI,iBAAKT,UAAU,QAAf,WACI,mBAAQA,UAAU,mBAAmBI,QAASK,EAA9C,UACI,gBAAKR,IAAKoB,EAAOnB,IAAI,QAAQoB,MAAM,OAAOC,OAAO,WAEpDb,OAGTL,EAEP,C,mECjCM,SAASmB,EAAT,GAA4C,IAArBC,EAAoB,EAApBA,QAASrB,EAAW,EAAXA,QAC5BT,EAAoC8B,EAApC9B,KAAMC,EAA8B6B,EAA9B7B,SAAUC,EAAoB4B,EAApB5B,KAAMC,EAAc2B,EAAd3B,MAAO4B,EAAOD,EAAPC,IAMpC,OACI,eAAI1B,UAAU,eAAeI,QALb,WAChBA,EAAQsB,EACX,EAGG,UACI,gBAAI1B,UAAU,kBAAd,WACI,eAAIA,UAAU,sBAAd,UACI,gBAAKC,IAAKL,EAAUM,IAAKP,EAAMK,UAAU,mBAE7C,eAAIA,UAAU,eAAd,SACML,KAEN,gBAAIK,UAAU,eAAd,WACI,iBAAMA,UAAU,yBAAhB,mBADJ,KAC4DH,MAE5D,gBAAIG,UAAU,gBAAd,WACI,iBAAMA,UAAU,yBAAhB,oBADJ,KAC6DF,SAK5E,CCxBM,SAAS6B,EAAT,GAA6C,IAAtBC,EAAqB,EAArBA,SAAUxB,EAAW,EAAXA,QAC9ByB,EAAc,SAACC,GACjB1B,EAAQ0B,EACX,EAED,OACI,eAAI9B,UAAU,eAAd,SACK4B,EAASG,KAAK,SAAAN,GAAO,OAClB,SAAC,EAAD,CAAaA,QAAUA,EAA4BrB,QAASyB,GAAtBJ,EAAQC,IAD5B,KAKjC,C,mLCPc,SAASM,IACpB,OAAwBC,EAAAA,EAAAA,UAAS,MAAjC,eAAOC,EAAP,KAAaC,EAAb,KAEA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOG,EAAP,KAAqBC,EAArB,KACA,GAAwCJ,EAAAA,EAAAA,WAAS,GAAjD,eAAOK,EAAP,KAAsBC,EAAtB,KACA,GAA2CN,EAAAA,EAAAA,UAAS,MAApD,eAAOxC,EAAP,KAAuB+C,EAAvB,KACMC,EAAc,WAChBF,GAAgBD,EACnB,GAED3B,EAAAA,EAAAA,YAAU,WACyB,qBAApBC,OAAO8B,UAEd9B,OAAO8B,SAASC,SAASC,MAAK,WAC1B,IAAMV,EAAO,IAAIW,IAAJ,CAASjC,OAAO8B,UAC7BP,EAAQD,EACX,GAER,GAAE,KAEHvB,EAAAA,EAAAA,YAAU,WAAM,wCACZ,sFAGQuB,GACAA,EAAKY,iBACLZ,EAAKY,gBAAgBC,iBAWNC,EAVjB,mCAUE,qGACuB9D,EAAAA,EAAAA,IAAgB+D,EAAQ9D,QAD/C,OACUJ,EADV,OAEIsD,EAAgBtD,GAFpB,2CAVF,qDACEC,QAAQM,IACJ,kCACA4C,EAAKY,gBAAgBC,iBAEnBE,EAAU,CACZ9D,OAAQ+C,EAAKY,gBAAgBC,kBAEjC3D,EAAAA,EAAAA,IAAkB6D,GAMlBD,KAEAhE,QAAQM,IAAI,qCAtBpB,2CADY,yBAAC,WAAD,wBA0BZ4D,EACH,GAAE,CAAChB,IASJ,OACI,2BACME,GAGE,SAAC,IAAD,CAAaR,SAAUQ,EAAchC,QAZ5B,SAAA0B,GACjBW,IAEA,IAAMhB,EAAUW,EAAae,MAAK,SAAAnC,GAAC,OAAIA,EAAEU,MAAQI,CAAd,IACnCU,EAAiBf,EACpB,IAKW,cAKHa,IACG,SAAC,IAAD,CAAa7B,QAASgC,EAAtB,UACI,SAAC,IAAD,CAAiBhD,eAAgBA,QAKpD,C","sources":["api/api.js","components/AddToMyListCard/AddToMyListCard.jsx","components/ModalWindow/ModalWindow.jsx","components/PokemonCard/PokemonCard.jsx","components/PokemonList/PokemonList.jsx","pages/MyPokemonsPage.jsx"],"sourcesContent":["import axios from 'axios';\r\n\r\n// const API_URL = 'http://localhost:3000/api';\r\n\r\nconst API_URL = \"https://white-bat-toga.cyclic.app/api\"\r\n\r\nexport async function getPokemons() {\r\n  try {\r\n    const response = await axios.get(API_URL + \"/pokemons\");\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport async function getUserPokemons(userId) {\r\n    try {\r\n      const response = await axios.post(API_URL + \"/userPokemons\", {userId: userId});\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n\r\n  export async function addNewUserPokemon(body) {\r\n    console.log(\"body\", body);\r\n    const url = API_URL + '/userPokemons/auth';\r\n\r\n    await axios.post(url, {\r\n      userId: body.userId,\r\n      pokemonId: body.pokemonId,\r\n    });\r\n  }\r\n","import \"./AddToMyListCard.scss\";\r\n\r\nexport function AddToMyListCard({ currentPokemon, onAddPokemon }) {\r\n    const {name, imageUrl, type, level, abilities} = currentPokemon;\r\n\r\n    return(\r\n        <div className=\"add-pokemon\" >\r\n            <img src={imageUrl} alt={name} className=\"add-pokemon-img\"/>\r\n            <ul className=\"add-pokemon-details\">\r\n                <li className=\"add-pokemon-name\">\r\n                    { name }\r\n                </li>\r\n                <li className=\"add-pokemon-type\">\r\n                    <span className=\"add-pokemon-details__title\">Type:</span>  {type}\r\n                </li>\r\n                <li className=\"add-pokemon-level\">\r\n                    <span className=\"add-pokemon-details__title\">Level:</span>  {level}\r\n                </li>\r\n                <li className=\"add-pokemon-abilities\">\r\n                    <span className=\"add-pokemon-details__title\">Abilities:</span>  \r\n                    {abilities.join(\", \")}\r\n                </li>\r\n                <li>\r\n                    <button className=\"add-pokemon-btn\" onClick={onAddPokemon}>\r\n                        Add to My list\r\n                    </button>\r\n                </li>\r\n            </ul>\r\n    </div>\r\n\r\n    )\r\n\r\n}","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport Cross from \"./cross.png\"\r\nimport \"./ModalWindow.scss\"\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport function ModalWindow({onClose, children}) {\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown)}\r\n        }, []) \r\n\r\n    const handleKeyDown = e => {\r\n        if (e.code === 'Escape') { onClose() }\r\n    };\r\n\r\n    const handleOverlayClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n        onClose();\r\n        }\r\n    };\r\n\r\n        return createPortal(\r\n        <div className=\"overlay\" onClick={handleOverlayClick} >\r\n            <div className=\"modal\">\r\n                <button className='modal__close-btn' onClick={onClose}>\r\n                    <img src={Cross} alt=\"close\" width=\"12px\" height=\"12px\"/>\r\n                </button>\r\n                {children}\r\n            </div>\r\n        </div>,\r\n        modalRoot\r\n        );\r\n}\r\n\r\n","import \"./PokemonCard.scss\"\r\n\r\nexport function PokemonCard({ pokemon, onClick }) {\r\n    const {name, imageUrl, type, level, _id} = pokemon;\r\n\r\n    const handleClick = () => {\r\n        onClick(_id);\r\n    }\r\n\r\n    return (\r\n        <li className=\"pokemon-card\" onClick={handleClick}>\r\n            <ul className=\"pokemon-details\">\r\n                <li className=\"pokemon-image-frame\">\r\n                    <img src={imageUrl} alt={name} className=\"pokemon-img\"/>\r\n                </li>\r\n                <li className=\"pokemon-name\">\r\n                    { name }\r\n                </li>\r\n                <li className=\"pokemon-type\">\r\n                    <span className=\"pokemon-details__title\">Type:</span>  {type}\r\n                </li>\r\n                <li className=\"pokemon-level\">\r\n                    <span className=\"pokemon-details__title\">Level:</span>  {level}\r\n                </li>\r\n            </ul>\r\n        </li>\r\n    )\r\n}","import \"./PokemonList.scss\"\r\nimport { PokemonCard } from \"components/PokemonCard/PokemonCard\"\r\n\r\nexport function PokemonList({ pokemons, onClick }) {\r\n    const handleClick = (id) => {\r\n        onClick(id);\r\n    }\r\n\r\n    return (\r\n        <ul className=\"pokemon-list\">\r\n            {pokemons.map( pokemon => \r\n                <PokemonCard pokemon={ pokemon } key={pokemon._id} onClick={handleClick}/>\r\n            )}\r\n        </ul>\r\n    )\r\n}","import { useState, useEffect } from 'react';\r\nimport Web3 from 'web3';\r\n\r\nimport { PokemonList } from 'components/PokemonList/PokemonList';\r\nimport { ModalWindow } from 'components/ModalWindow/ModalWindow';\r\nimport { AddToMyListCard } from 'components/AddToMyListCard/AddToMyListCard';\r\nimport { getUserPokemons, addNewUserPokemon } from 'api/api';\r\n\r\nexport default function MyPokemonsPage() {\r\n    const [web3, setWeb3] = useState(null);\r\n\r\n    const [userPokemons, setUserPokemons] = useState([]);\r\n    const [isModalOpened, setModalOpened] = useState(false);\r\n    const [currentPokemon, setCurrenPokemon] = useState(null);\r\n    const toggleModal = () => {\r\n        setModalOpened(!isModalOpened);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (typeof window.ethereum !== 'undefined') {\r\n            // Connect to Metamask\r\n            window.ethereum.enable().then(() => {\r\n                const web3 = new Web3(window.ethereum);\r\n                setWeb3(web3);\r\n            });\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        async function handleConnectWallet() {\r\n            // Check if user is logged into Metamask\r\n            if (\r\n                web3 &&\r\n                web3.currentProvider &&\r\n                web3.currentProvider.selectedAddress\r\n            ) {\r\n                console.log(\r\n                    'User is logged in with address:',\r\n                    web3.currentProvider.selectedAddress\r\n                );\r\n                const reqBody = {\r\n                    userId: web3.currentProvider.selectedAddress,\r\n                };\r\n                addNewUserPokemon(reqBody);\r\n\r\n                async function fetchData() {\r\n                    const data = await getUserPokemons(reqBody.userId);\r\n                    setUserPokemons(data);\r\n                }\r\n                fetchData();\r\n            } else {\r\n                console.log('User is not logged in to Metamask');\r\n            }\r\n        }\r\n        handleConnectWallet();\r\n    }, [web3]);\r\n\r\n    const getPokemonId = id => {\r\n        toggleModal();\r\n\r\n        const pokemon = userPokemons.find(e => e._id === id);\r\n        setCurrenPokemon(pokemon);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {!userPokemons ? (\r\n                'No pokemons'\r\n            ) : (\r\n                <PokemonList pokemons={userPokemons} onClick={getPokemonId} />\r\n            )}\r\n\r\n            {isModalOpened && (\r\n                <ModalWindow onClose={toggleModal}>\r\n                    <AddToMyListCard currentPokemon={currentPokemon} />\r\n                </ModalWindow>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":["API_URL","getPokemons","axios","response","data","console","error","getUserPokemons","userId","addNewUserPokemon","body","log","pokemonId","AddToMyListCard","currentPokemon","onAddPokemon","name","imageUrl","type","level","abilities","className","src","alt","join","onClick","modalRoot","document","querySelector","ModalWindow","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","currentTarget","target","Cross","width","height","PokemonCard","pokemon","_id","PokemonList","pokemons","handleClick","id","map","MyPokemonsPage","useState","web3","setWeb3","userPokemons","setUserPokemons","isModalOpened","setModalOpened","setCurrenPokemon","toggleModal","ethereum","enable","then","Web3","currentProvider","selectedAddress","fetchData","reqBody","handleConnectWallet","find"],"sourceRoot":""}